@model IEnumerable<UserManagement.Domain.ResultModel<MemberBulkImportVM>>
@using  UserManagement.Domain.ViewModel
@{
    ViewData["Title"] = "Bulk import";
}
<div class="container">
    <div class="card mb-2">
        <div class="card-header">
            Bulk Upload
        </div>
        <div class="card-body">
            <form enctype="multipart/form-data" asp-action="BulkImport">
                <table class="style1" border="0" cellpadding="4px" cellspacing="0">
                   
                    <tr>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                           
                        </td>
                        <td align="right">
                            <label id="label1" runat="server"> Select File to Upload Bulk Data</label>
                        </td>
                        <td>
                            <input id="files" type="file" accept=".xlsx" required name="formFile" class="form-control-file">
                        </td>
                        <td>
                            <a href="UserTemplate.xlsx" Target="_blank">Download Template</a>
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                    </tr>
                    <tr>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            <input type="submit" value="Import" class="btn btn-info">
                           
                            @*<asp:Button ID="Button1" runat="server" onclick="Button1_Click" Text="Import" ForeColor="White" BackColor="#009900" class="" />*@
                        </td>
                        <td>
                            @*<input type="button" id="btnExport" value="Export Users" class="btn btn-success" onclick="Export()" />*@
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                    </tr>
                    <tr>
                        <td id="tdResult" colspan="6">


                            @*<asp:GridView ID="GridView1" runat="server">
                                </asp:GridView>*@
                        </td>
                    </tr>
                    <tr>
                        <td class="auto-style1">
                        </td>
                        <td class="auto-style1">
                        </td>
                        <td class="auto-style1">
                        </td>
                        <td class="auto-style1">
                            <label id="lblErrorMsg" class="col-12 col-md-2 col-xl-2 control-label"></label>
                            @*<asp:Label ID="lblMessage" runat="server" Text=""></asp:Label>*@
                        </td>
                        <td class="auto-style1">
                        </td>
                        <td class="auto-style1">
                        </td>
                    </tr>

                    <tr>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td colspan="3">
                            @*<div runat="server" id="divError"></div>*@
                        </td>
                        <td>
                            &nbsp;
                        </td>
                    </tr>

                    <tr>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                        <td>
                            &nbsp;
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>



    @if (Model != null && Model.Count() > 0)
    {


        var validatedModels = Model?.Where(x => x.Success);
        var inValidatedModels = Model?.Where(x => !x.Success);

        @await (@Html.PartialAsync("BulkImportSucess_partial", validatedModels));

        @await (@Html.PartialAsync("BulkImportError_partial", inValidatedModels));


    }
</div>





